<!DOCTYPE html>
<meta charset="utf-8">

<style>
  /*css*/
  path{
    stroke: white;
    stroke-width: 0.5px;
  }
  .state{
    fill: #ddc;
  }
  .state:hover {
    cursor: pointer;
    fill:#E6550D;
    -webkit-transition: fill 1s, -webkit-transform 1s;
    transition: fill 1s, transform 1s;
  }

.state-label {
  fill: #777;
  fill-opacity: .5;
  font-size: 6px;
  font-weight: 300;
  text-anchor: middle;
}

</style>

<body>
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="http://d3js.org/topojson.v1.min.js"></script>
  <script src="http://d3js.org/queue.v1.min.js"></script>
  <script type="text/javascript" src="./tooltip.js"></script>
  <script type="text/javascript">
  var width = 960,
    height = 500;

var projection = d3.geo.mercator()
    .center([0, 5 ])
    .scale(100);

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

var path = d3.geo.path()
    .projection(projection);

var g = svg.append("g");

// load and display the World
d3.json("json/world.json", function(error, topology) {
    g.selectAll("path")
      .data(topojson.feature(topology, topology.objects.states)
          .features)
    .enter()
      .append("path")
      .attr("class", function(d) {return "state " +d.id})
      .attr("d", path)

    svg.selectAll(".state-label")
      .data(topojson.feature(topology, topology.objects.states).features)
      .enter().append("text")
      .attr("class", function(d) { return "state state-label " + d.id; })
      .call(d3.helper.tooltip(
                    function(d, i){
                        return '<b>'+ d.properties.soverignt + '</b>';
                    }
            ));
});


  </script>
</body>
